<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JS annotation markup</title>
    <link rel="stylesheet" href="css/annotator.css">
  </head>

  <body>
    <header>
      <h1>Javascript annotation service test</h1>
    </header>

    <div id="airlock">
      <div class="annotator-wrapper">
        <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

        <h2>Header Level 2</h2>

        <ol>
           <li>Lorem <span class="annotator-hl">ipsum dolor sit amet, consectetuer adipiscing</span> elit.</li>
           <li>Aliquam tincidunt mauris eu risus.</li>
        </ol>

        <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa. Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p></blockquote>

        <h3>Header Level 3</h3>

        <ul>
           <li id="listone">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
           <li id="listtwo">Aliquam tincidunt mauris eu risus.</li>
        </ul>

        <pre><code>
        #header h1 a {
          display: block;
          width: 300px;
          height: 80px;
        }
        </code></pre>
      
        <div class="annotator-adder"><a href="#annotate" title="Annotate selection">Annotate</a></div>
        <ul class="annotator-widget annotator-viewer">
          <li class="annotator-annotation">
            <div>
              This is a comment on this annotation text. This annotation
              has multiple comments.
            </div>
            <span class="annotator-controls">
              <button class="annotator-edit">Edit</button>
              <button class="annotator-delete">Delete</button>
            </span>
          </li>
          <li class="annotator-annotation">
            <div>
              This is a comment on this annotation text. This annotation
              has multiple comments.
            </div>
            <div class="plugin annotator-author">
              By Joe Bloggs
            </div>
            <div class="plugin annotator-tags">
              <span class="annotator-tag">Apple</span>
              <span class="annotator-tag">Oranges</span>
              <span class="annotator-tag">Pears</span>
            </div>
            <span class="annotator-controls">
              <button class="annotator-edit" disabled>Edit</button>
              <button class="annotator-delete">Delete</button>
            </span>
          </li>
        </ul>
        <ul class="annotator-widget annotator-viewer">
          <li class="annotator-annotation">
            <div>
              This is a comment on this annotation text. This annotation
              has one comment and no plugins.
            </div>
            <span class="annotator-controls">
              <button class="annotator-edit">Edit</button>
              <button class="annotator-delete" disabled>Delete</button>
            </span>
          </li>
        </ul>
        <div class="annotator-widget annotator-editor">
          <ul>
            <li>
              <textarea cols="20" rows="4" placeholder="Comments…"></textarea>
            </li>
            <li>
              <input id="annotator-field-2" placeholder="Tags…" />
            </li>
            <li class="annotator-checkbox">
              <input type="checkbox" id="annotator-field-3"></textarea>
              <label for="annotator-field-3">Anyone can <strong>view</strong> this annotation</label>
            </li>
            <li class="annotator-checkbox">
              <input type="checkbox" id="annotator-field-4"></textarea>
              <label for="annotator-field-4">Anyone can <strong>edit</strong> this annotation</label>
            </li>
          </ul>
          <div class="annotator-controls">
            <a href="#cancel" class="annotator-cancel">Cancel</a>
            <a href="#save" class="annotator-save annotator-focus">Save</a>
          </div>
          <span class="annotator-resize"></span>
        </div>
      </div>
    </div>

    <script src="lib/vendor/jquery.js"></script>
    <script>
      (function ($) {
        var base = (function () {
          var wrapper    = $('.annotator-wrapper').offset();
          var annotation = $('.annotator-hl').offset();
          return {
            top:  annotation.top - wrapper.top,
            left: annotation.left - wrapper.left
          };
        }());

        $('.annotator-adder').css({
          top:  base.top,
          left: base.left + ($('.annotator-adder a').width() / 2)
        });

        $('.annotator-viewer').each(function (i) {
          var viewer = $(this);

          viewer.css({
            top:  base.top - viewer.height() - 8,
            left: base.left + 50 + (270 * i)
          });
        });
        
        $('.annotator-editor').each(function (i) {
          var viewer = $(this);

          viewer.css({
            top:  base.top + 20,
            left: base.left
          });
        });
      }(jQuery));
    </script>
  </body>
</html>
