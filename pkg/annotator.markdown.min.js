(function(){var b=function(d,e){return function(){return d.apply(e,arguments)}},a=Object.prototype.hasOwnProperty,c=function(g,e){for(var d in e){if(a.call(e,d)){g[d]=e[d]}}function f(){this.constructor=g}f.prototype=e.prototype;g.prototype=new f;g.__super__=e.prototype;return g};Annotator.Plugin.Markdown=(function(){c(d,Annotator.Plugin);d.prototype.events={annotationViewerTextField:"updateTextField"};function d(f,e){this.updateTextField=b(this.updateTextField,this);if((typeof Showdown!=="undefined"&&Showdown!==null?Showdown.converter:void 0)!=null){d.__super__.constructor.apply(this,arguments);this.converter=new Showdown.converter()}else{console.error("To use the Markdown plugin, you must include Showdown into the page first.")}}d.prototype.updateTextField=function(f,e){var g;g=Annotator.$.escape(e.text||"");return $(f).html(this.convert(g))};d.prototype.convert=function(e){return this.converter.makeHtml(e)};return d})()}).call(this);